* { box-sizing: border-box; }
:root {
  --bg: #0f1216; --panel: #151b22; --muted: #2a3441; --text: #e8eef5; --sub: #9fb0c2; --accent: #2c7be5; --danger:#d74c4c;
}
html, body { height: 100%; }
body { margin: 0; font-family: ui-sans-serif, system-ui, Segoe UI, Roboto; background: var(--bg); color: var(--text); }

.layout { display: grid; grid-template-columns: 300px 1fr; height: 100vh; }

.sidebar { border-right: 1px solid var(--muted); padding: 12px; overflow-y: auto; background: var(--panel); }
.sidebar-header { display:flex; align-items:center; justify-content:space-between; }
.sidebar-header h2 { margin: 0; font-size: 16px; letter-spacing: 0.3px; }
.sidebar button { background: transparent; color: var(--text); border: 1px solid var(--muted); padding: 6px 10px; border-radius: 10px; cursor: pointer; }
.sidebar button:hover { border-color: var(--sub); }

.convo-list { list-style: none; padding: 0; margin: 10px 0 0; }
.convo-item { display: grid; grid-template-columns: 1fr auto; gap: 8px; align-items: center; padding: 8px; border-radius: 10px; cursor: pointer; }
.convo-item:hover { background: #11161d; }
.convo-item.active { background: #101926; border: 1px solid #1c2734; }
.convo-title { font-size: 14px; color: var(--text); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.convo-actions button { background: transparent; border: 1px solid var(--muted); color: var(--sub); padding: 2px 8px; border-radius: 8px; }
.convo-actions button:hover { color: var(--text); border-color: var(--sub); }
.convo-actions .danger { border-color: #7a3434; color: #ffb6b6; }
.convo-actions .danger:hover { border-color: var(--danger); color: #ffd6d6; }

.chat { display: grid; grid-template-rows: 1fr auto; height: 100vh; }

/* Make messages a vertical flex stack */
.messages { padding: 20px; overflow-y: auto; display: flex; flex-direction: column; }

/* User messages stick to the right, assistant to the left */
.msg.user { margin-left: auto; background: #1b2330; border: 1px solid #243042; text-align: left; }
.msg.assistant { margin-right: auto; background: #121a25; border: 1px solid #1f2a39; text-align: left; }

/* Optional: max width so bubbles don't span too wide */
.msg { max-width: 70ch; padding: 10px 14px; margin: 10px 0; border-radius: 14px; line-height: 1.6; }

/* Rounded corners: user messages rounded on left, assistant on right */
.msg.user { border-bottom-right-radius: 6px; }
.msg.assistant { border-bottom-left-radius: 6px; }

.msg .meta { display:block; margin-top:6px; font-size: 12px; color: var(--sub); }

.composer { display: grid; grid-template-columns: auto 1fr auto; gap: 10px; padding: 16px; border-top: 1px solid var(--muted); background: var(--panel); }
#file { align-self: center; }
#input { width: 100%; padding: 12px; background: #0e141b; color: var(--text); border: 1px solid var(--muted); border-radius: 12px; resize: vertical; }
#send { padding: 10px 16px; background: var(--accent); color: white; border: none; border-radius: 12px; cursor: pointer; }
#send:hover { filter: brightness(1.05); }

.profile { margin-top: 18px; padding-top: 12px; border-top: 1px solid var(--muted); }
.profile h3 { margin: 8px 0; font-size: 14px; color: var(--sub); }
.profile label { display:block; font-size: 12px; color: var(--sub); margin: 6px 0; }
.profile input, .profile textarea {
  width: 100%; padding: 8px; background: #0e141b; color: var(--text); border: 1px solid var(--muted); border-radius: 10px;
}
.profile-actions { display:flex; gap: 8px; margin-top: 8px; }
.profile-actions .danger {
  background: transparent; border: 1px solid #7a3434; color: #ffb6b6; border-radius: 10px; padding: 6px 10px;
}
.profile-actions button { background: transparent; border: 1px solid var(--muted); color: var(--text); border-radius: 10px; padding: 6px 10px; }
.profile-actions button:hover { border-color: var(--sub); }

/* Readable typography for bubble content */
.msg .text { line-height: 1.6; }
.msg .text p { margin: 0 0 10px; }
.msg .text ul, .msg .text ol { margin: 6px 0 10px 20px; }
.msg .text li + li { margin-top: 4px; }
.msg .text h1, .msg .text h2, .msg .text h3 { margin: 10px 0 6px; line-height: 1.3; }

/* Tables inside messages */
.msg .text table { border-collapse: collapse; width: 100%; margin: 8px 0; }
.msg .text th, .msg .text td { border: 1px solid #2a3441; padding: 6px 8px; text-align: left; }
.msg .text thead { background: #10161f; }

/* Code blocks */
.msg .text pre { background: #0e141b; border: 1px solid #2a3441; padding: 10px; border-radius: 10px; overflow:auto; }
.msg .text code { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace; }

/* Images in bubbles */
.msg .text img { max-width: 320px; height: auto; border-radius: 10px; display: block; margin: 6px 0; }
